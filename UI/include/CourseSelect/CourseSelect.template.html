<?php
/**
 * @file CourseSelect.template.html
 *
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL version 3
 *
 * @package OSTEPU (https://github.com/ostepu/ostepu-core)
 * @since 0.1.0
 *
 * @author Till Uhlig <till.uhlig@student.uni-halle.de>
 * @date 2014-2015
 * @author Ralf Busch <ralfbusch92@gmail.com>
 * @date 2014
 * @author Felix Schmidt <Fiduz@Live.de>
 * @date 2013-2014
 * @author Florian LÃ¼cke <florian.luecke@gmail.com>
 * @date 2013-2014
 */
?>

<?php $langTemplate='CourseSelect';Language::loadLanguageFile('de', $langTemplate, 'json', dirname(__FILE__).'/'); ?>
<?php $pageComponent = pageLib::loadConf(dirname(__FILE__).'/uicourseselect_cconfig.json'); ?>

<div class="content-element">
    <div class="content-header">
        <?php echo MakeInfoButton('page/common/courseSelect','courseSelect.md'); ?>
        <div class="content-title left uppercase"><?php echo Language::Get('main','title', $langTemplate); ?></div>
        <?php echo pageLib::getContent('getHeader', $this->content, $pageComponent);?>
    </div>

    <div class="content-body-wrapper">
        <div class="content-body left">
            <?php 
            if (isset($courses[0])) {
                $currentSemester = null;
                foreach ($courses as $course){
                    if ($course['course']['semester']!=$currentSemester){
                        $currentSemester=$course['course']['semester'];
                        if ($currentSemester!==null){
                        ?>
                           </span>
                        <?php
                        }
                           
                    ?>  <span class="content-element">
                        <span class="left label bold new-line content-title uppercase info-color">
                            <?php echo $currentSemester;?>
                        </span>
                    <?php
                    }
            ?>
                    
                    <span class="left medium label bold new-line">
                        <?php print $statusName[$course['status']]; ?>
                    </span>
                    
                    <div class="left course-list form-text" >
                        <a href="<?php echo $sites[$course['status']], '?cid=', $course['course']['id']; ?>"
                        class="left body-option-color form-text deny-button" style="padding-right: 10px">
                            <?php //echo Language::Get('main','enterCourse', $langTemplate); ?>
                            <?php print $course['course']['name'];?>
                        </a>
                    </div>
                    
            <?php 
                }
            ?>
                </span>
                <?php echo pageLib::getContent('getContent', $this->content, $pageComponent);?>
            <?php
            }
            else {
                print Language::Get('main','noData', $langTemplate);
                echo pageLib::getContent('getContentWithoutCourses', $this->content, $pageComponent);
            }
            ?>
        </div>
    </div> <!-- end: content-body -->
</div> <!-- end: content-wrapper -->