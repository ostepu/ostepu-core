<?php
/**
 * @file UploadHistoryGroup.template.html
 *
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL version 3
 *
 * @package OSTEPU (https://github.com/ostepu/ostepu-core)
 * @since 0.3.0
 *
 * @author Till Uhlig <till.uhlig@student.uni-halle.de>
 * @date 2015
 */
?>

<?php $langTemplate='UploadHistory_Group';Language::loadLanguageFile('de', $langTemplate, 'json', dirname(__FILE__).'/'); ?>
<?php $pageComponent = pageLib::loadConf(dirname(__FILE__).'/uiuploadhistory_uploadhistorygroup_cconfig.json'); ?>

<?php
if (isset($UploadHistoryGroupNotificationElements)) {
    foreach ($UploadHistoryGroupNotificationElements as $notificationElement) {
        print $notificationElement;
    }
}
?>

<?php if (isset($group['members']) && count($group['members'])>0) { ?>
<div class="content-element">
    <div class="content-header">
        <div class="content-title left"><?php echo Language::Get('main','title', $langTemplate); ?></div>
        <?php echo pageLib::getContent('getHeader', $this->content, $pageComponent);?>
    </div>

    <div class="content-body-wrapper">
        <div class="content-body left">
            <ol class="exercise-list invitation-list">
            <?php
                // prints group leader
                print '<li class="bold">';
                $leader = $group['leader'];

                if (isset($leader['firstName'])){
                    print $leader['firstName'];
                } else
                    print "";
                print " ";
                if (isset($leader['lastName'])){
                    print $leader['lastName'];
                } else
                    print "";
                
                if (isset($leader['userName'])){
                    print " (".$leader['userName'].")";
                } else
                    print "???";
                                
                print ' ('.Language::Get('main','groupLeader', $langTemplate).')';
                print '</li>';


                // prints group members
                if (isset($group['members'])){
                    foreach ($group['members'] as $member) {
                        print "<li>";
                        
                        if (isset($member['firstName'])){
                            print $member['firstName'];
                        } else
                            print "";
                        print " ";
                        if (isset($member['lastName'])){
                            print $member['lastName'];
                        } else
                            print "";
                        
                        if (isset($member['userName'])){
                            print " (".$member['userName'].")";
                        } else
                            print "???";
                        print "</li>";
                    }
                }
            ?>
        </ol>
        <?php echo pageLib::getContent('getContent', $this->content, $pageComponent);?>
        </div>
    </div> <!-- end: content-body-wrapper -->
</div> <!-- end: content-element -->
<?php } ?>